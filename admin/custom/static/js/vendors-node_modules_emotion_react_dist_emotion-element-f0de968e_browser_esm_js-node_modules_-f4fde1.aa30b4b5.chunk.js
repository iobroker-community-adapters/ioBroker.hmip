"use strict";var it=Object.defineProperty,st=Object.defineProperties;var lt=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var te=(d,s,t)=>s in d?it(d,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):d[s]=t,oe=(d,s)=>{for(var t in s||(s={}))ye.call(s,t)&&te(d,t,s[t]);if(G)for(var t of G(s))Ee.call(s,t)&&te(d,t,s[t]);return d},we=(d,s)=>st(d,lt(s));var Te=(d,s)=>{var t={};for(var l in d)ye.call(d,l)&&s.indexOf(l)<0&&(t[l]=d[l]);if(d!=null&&G)for(var l of G(d))s.indexOf(l)<0&&Ee.call(d,l)&&(t[l]=d[l]);return t};var f=(d,s,t)=>te(d,typeof s!="symbol"?s+"":s,t);var Q=(d,s,t)=>new Promise((l,i)=>{var I=w=>{try{N(t.next(w))}catch(g){i(g)}},P=w=>{try{N(t.throw(w))}catch(g){i(g)}},N=w=>w.done?l(w.value):Promise.resolve(w.value).then(I,P);N((t=t.apply(d,s)).next())});(self.webpackChunkiobroker_admin_component_hmip=self.webpackChunkiobroker_admin_component_hmip||[]).push([["vendors-node_modules_emotion_react_dist_emotion-element-f0de968e_browser_esm_js-node_modules_-f4fde1"],{1639:(d,s,t)=>{t.d(s,{b:()=>g});var l=t(77810),i=t(24517),I=t(64922);const P=l.createContext(void 0);function N({value:M,children:v}){return _jsx(P.Provider,{value:M,children:v})}function w(M){const{theme:v,name:S,props:R}=M;if(!v||!v.components||!v.components[S])return R;const b=v.components[S];return b.defaultProps?(0,i.A)(b.defaultProps,R):!b.styleOverrides&&!b.variants?(0,i.A)(b,R):R}function g({props:M,name:v}){const S=l.useContext(P);return w({props:M,name:v,theme:{components:S}})}var z=null},17739:(d,s,t)=>{t.r(s),t.d(s,{AdminConnection:()=>at.w,ColorPicker:()=>m.s,ComplexCron:()=>c.J,ComplexCronDialog:()=>ae.j,Confirm:()=>H.Z,Connection:()=>Y.Ng,Cron:()=>re.j,CustomModal:()=>u.j,DialogComplexCron:()=>ae.j,DialogConfirm:()=>H.Z,DialogCron:()=>re.j,DialogError:()=>k.J,DialogMessage:()=>ie.A,DialogSelectFile:()=>le.J,DialogSelectID:()=>se._,DialogSimpleCron:()=>de.T,DialogTextInput:()=>ce.k,ERRORS:()=>Y.Sr,EXTENSIONS:()=>F.Z1,Error:()=>k.J,FileBrowser:()=>y.V,FileBrowserClass:()=>y.F,FileViewer:()=>F.hc,FileViewerClass:()=>F.ng,GenericApp:()=>D,I18n:()=>T.F,ITEM_IMAGES:()=>X.fb,Icon:()=>O.In,IconAdapter:()=>ze.r,IconAlias:()=>$e._,IconButtonImage:()=>Je.f,IconChannel:()=>Ve.f,IconClearFilter:()=>He.R,IconClosed:()=>Ke.A,IconCopy:()=>Xe.b,IconDevice:()=>Ye.W,IconDeviceType:()=>$.uF,IconDocument:()=>Ze.F,IconDocumentReadOnly:()=>Ge.D,IconExpert:()=>Qe.E,IconFx:()=>je.Y,IconInstance:()=>qe.L,IconLogout:()=>_e.E,IconNoIcon:()=>et.C,IconOpen:()=>tt.Y,IconPicker:()=>U.a,IconSelector:()=>L.N,IconState:()=>ot.n,IconVacuum:()=>nt.l,Image:()=>Ie._,LegacyConnection:()=>he.ck,Loader:()=>R,LoaderMV:()=>We.h,LoaderPT:()=>Ue.C,LoaderVendor:()=>Be.k,Logo:()=>Se.g,MDUtils:()=>pe.x,Message:()=>ie.A,ObjectBrowser:()=>X.Sn,ObjectBrowserClass:()=>X.iJ,PERMISSION_ERROR:()=>Y.fq,PROGRESS:()=>Y.Gd,Router:()=>b.I,SaveCloseButtons:()=>j.N,Schedule:()=>be.q,SelectFile:()=>le.J,SelectID:()=>se._,SelectWithIcon:()=>xe.y,SimpleCron:()=>ne.N,SimpleCronDialog:()=>de.T,TabContainer:()=>Ne.j,TabContent:()=>De.J,TabHeader:()=>Oe.t,TableResize:()=>Pe.R,TextInput:()=>ce.k,TextWithIcon:()=>Me.d,Theme:()=>l.S,ToggleThemeMenu:()=>Re.l,TreeTable:()=>Ae.z,UploadImage:()=>Fe.t,Utils:()=>A.A,convertCronToText:()=>Le.U,copy:()=>h.C,cron2state:()=>ne.c,dictionary:()=>K.z,getAttrInObject:()=>J.c7,getSelectIdIcon:()=>O.lh,getSelectIdIconFromObjects:()=>X.XV,getSystemIcon:()=>O.dz,iobUriParse:()=>J.u_,iobUriRead:()=>J.BC,iobUriToString:()=>J.BW,isDeviceIcon:()=>$.Kl,moduleFederationShared:()=>rt.l,pattern2RegEx:()=>he.Sy,printPrompt:()=>v.E,setAttrInObject:()=>J.AL,withWidth:()=>ke.x});var l=t(78838),i=t(77810),I=t(89855),P=t(69857),N=t(51383),w=t(35723),g=t(186),z=t(20500),M=t(1103),v=t(8193);const S=`
/**
 * Copyright 2018-2024 Denis Haev (bluefox) <dogafox@gmail.com>
 *
 * MIT License
 *
 **/

.logo-background-light, .logo-background-colored {
    background: white;
}
.logo-background-dark, .logo-background-blue {
    background: black;
}
.logo-div {
    position: absolute;
    top: 50%;
    left: 50%;
    -ms-transform: translateX(-50%) translateY(-50%);
    -webkit-transform: translate(-50%,-50%);
    transform: translate(-50%,-50%);
    overflow: hidden;
    border-radius: 50%;
    z-index: 2;
}
.logo-border {
    /*border-color: #164477;*/
    border-top-color: #3399CC;
    border-left-color: #164477;
    border-bottom-color: #164477;
    border-right-color: #164477;
    border-radius: 50%;
    border-style: solid;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    position: absolute;
}
.logo-top {
    position: absolute;
    width: 4.5%;
    height: 16%;
    top: 0;
    z-index: 2;
}
.logo-i {
    position: absolute;
    width: 14.5%;
    height: 60%;
    top: 20%;
    left: 42%;
    background: #3399CC;
}
.logo-i-top {
    position: absolute;
    width: 14.5%;
    height: 4%;
    left: 42%;
    background: #3399CC;
    border-radius: 100%;
}
.logo-back {
    width: 100%;
    height: 100%;
    z-index: 0;
    overflow: hidden;
}
@keyframes logo-grow {
    0% {
        width: 230px;
        height: 230px;
        transform: translate(-50%,-50%) scale(1);
        opacity: 1
    }
    99% {
        width: 230px;
        height: 230px;
        transform: translate(-50%,-50%) scale(10);
        opacity: 0;
    }
    100% {
        width: 0;
        height: 0;
        opacity: 0;
    }
}
@keyframes logo-spin { 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }
@keyframes logo-color-inside-light {
    0% {
        background: #FEFEFE;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-dark {
    0% {
        background: #030303;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-colored {
    0% {
        background: #FEFEFE;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-blue {
    0% {
        background: #030303;
    }
    100% {
        background: #3399CC;
    }
}

@keyframes logo-color-outside-light {
    0% {
        border-color: #FEFEFE;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-dark  {
    0% {
        border-color: #040404;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-colored {
    0% {
        border-color: #FEFEFE;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-blue  {
    0% {
        border-color: #040404;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}

.logo-animate-wait {
    animation: logo-color-outside 1.5s, logo-spin 1.5s linear infinite;
}

.logo-animate-grow-light {
    background: #DDD;
}
.logo-animate-grow-dark {
    background: #1d1d1d;
}
.logo-animate-grow-colored {
    background: #DDD;
}
.logo-animate-grow-blue {
    background: #1d1d1d;
}

.logo-animate-grow {
    display: inline-block;
    text-align: center;
    z-index: 1;
    top: 50%;
    left: 50%;
    -ms-transform: translateX(-50%) translateY(-50%);
    -webkit-transform: translate(-50%,-50%);
    transform: translate(-50%,-50%);
    width: 245px;
    height: 245px;
    border-radius: 50%;
    position: absolute;
    animation: logo-grow 1s 1 ease forwards;
}

.logo-animate-color-inside-light {
    animation: logo-color-inside-light 2.5s;
}
.logo-animate-color-inside-dark {
    animation: logo-color-inside-dark 2.5s;
}
.logo-animate-color-inside-colored {
    animation: logo-color-inside-colored 2.5s;
}
.logo-animate-color-inside-blue {
    animation: logo-color-inside-blue 2.5s;
}

.logo-animate-color-outside-light {
    animation: logo-color-outside-light 1.5s;
}
.logo-animate-color-outside-dark {
    animation: logo-color-outside-dark 1.5s;
}
.logo-animate-color-outside-colored {
    animation: logo-color-outside-colored 1.5s;
}
.logo-animate-color-outside-blue {
    animation: logo-color-outside-blue 1.5s;
}
`;function R(x){(0,i.useEffect)(()=>{if(!window.document.getElementById("loader-iobroker-component")){const o=window.document.createElement("style");o.setAttribute("id","loader-iobroker-component"),o.innerHTML=S,window.document.head.appendChild(o)}},[]);const W=x.size||234,e=x.themeName||x.theme||x.themeType||"light";return i.createElement("div",{className:`logo-back logo-background-${e}`,style:{backgroundImage:x.backgroundImage&&x.backgroundImage!=="@@loginBackgroundImage@@"?x.backgroundImage:window.loadingBackgroundImage&&window.loadingBackgroundImage!=="@@loginBackgroundImage@@"?`url(${window.loadingBackgroundImage})`:void 0,backgroundColor:x.backgroundColor&&x.backgroundColor!=="@@loginBackgroundColor@@"?x.backgroundColor:window.loadingBackgroundColor&&window.loadingBackgroundColor!=="@@loginBackgroundColor@@"?window.loadingBackgroundColor:void 0,backgroundSize:"cover"}},window.loadingHideLogo==="true"?null:i.createElement(i.Fragment,null,i.createElement("div",{className:"logo-div",style:{width:W,height:W}},i.createElement("div",{className:`logo-top logo-background-${e}`,style:{left:"37%"}}),i.createElement("div",{className:`logo-top logo-background-${e}`,style:{left:"57%"}}),i.createElement("div",{className:`logo-border logo-background-${e} logo-animate-wait`,style:{borderWidth:W*.132}}),i.createElement("div",{className:`logo-i logo-animate-color-inside-${e}`}),i.createElement("div",{className:`logo-i-top logo-animate-color-inside-${e}`,style:{top:"18%"}}),i.createElement("div",{className:`logo-i-top logo-animate-color-inside-${e}`,style:{bottom:"18%"}})),i.createElement("div",{className:`logo-animate-grow logo-animate-grow-${e}`,style:{width:W+11,height:W+11}})))}var b=t(33967),A=t(1821),j=t(55102),H=t(45189),T=t(20363),k=t(55043),K=t(46023);const q=`
html {
    height: 100%;
}

body {
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* scrollbar */
::-webkit-scrollbar-track {
    background-color: #ccc;
    border-radius: 5px;
}

::-webkit-scrollbar {
    width: 5px;
    height: 5px;
    background-color: #ccc;
}

::-webkit-scrollbar-thumb {
    background-color: #575757;
    border-radius: 5px;
}

#root {
    height: 100%;
}

.App {
    height: 100%;
}

@keyframes glow {
    from {
        background-color: initial;
    }
    to {
        background-color: #58c458;
    }
}
`;function _(){try{return window.self!==window.top}catch(x){return!0}}class D extends b.I{constructor(e,o){var ge,fe;const n=e.Connection||(o==null?void 0:o.Connection)||I.Ng;if(!window.document.getElementById("generic-app-iobroker-component")){const r=window.document.createElement("style");r.setAttribute("id","generic-app-iobroker-component"),r.innerHTML=q,window.document.head.appendChild(r)}if(!D.isWeb()&&window.io&&window.location.port==="3000")try{const r=new window.SocketClient;delete window.io,window.io=r}catch(r){}super(e);f(this,"socket");f(this,"isIFrame",_());f(this,"instance");f(this,"adapterName");f(this,"instanceId");f(this,"newReact");f(this,"encryptedFields");f(this,"sentryDSN");f(this,"alertDialogRendered");f(this,"_secret");f(this,"_systemConfig");f(this,"savedNative");f(this,"common",null);f(this,"sentryStarted",!1);f(this,"sentryInited",!1);f(this,"resizeTimer",null);f(this,"onSystemConfigChanged",(e,o)=>{var n,a;o&&e==="system.config"&&(this.socket.systemLang!==(o==null?void 0:o.common.language)&&(this.socket.systemLang=(o==null?void 0:o.common.language)||"en",T.F.setLanguage(this.socket.systemLang)),((n=this._systemConfig)==null?void 0:n.expertMode)!==!!((a=o==null?void 0:o.common)!=null&&a.expertMode)?(this._systemConfig=(o==null?void 0:o.common)||{},this.setState({expertMode:this.getExpertMode()})):this._systemConfig=(o==null?void 0:o.common)||{})});f(this,"onReceiveMessage",e=>{if(e!=null&&e.data)if(e.data==="updateTheme"){const o=A.A.getThemeName();A.A.setThemeName(A.A.getThemeName());const n=this.createTheme(o);this.setState({theme:n,themeName:this.getThemeName(n),themeType:this.getThemeType(n)},()=>{this.props.onThemeChange&&this.props.onThemeChange(o),this.onThemeChanged&&this.onThemeChanged(o)})}else e.data==="updateExpertMode"?this.onToggleExpertMode&&this.onToggleExpertMode(this.getExpertMode()):e.data!=="chartReady"&&console.debug(`Received unknown message: "${JSON.stringify(e.data)}". May be it will be processed later`)});f(this,"onResize",()=>{this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.resizeTimer=null,this.setState({width:D.getWidth()})},200)});(0,v.E)();const a=(window.location.search||"").replace(/^\?/,"").replace(/#.*$/,""),C={};a.trim().split("&").filter(r=>r.trim()).forEach(r=>{const p=r.split("=");C[p[0]]=p.length===2?p[1]:!0,C[p[0]]==="true"?C[p[0]]=!0:C[p[0]]==="false"&&(C[p[0]]=!1)}),this.instance=(fe=(ge=o==null?void 0:o.instance)!=null?ge:e.instance)!=null?fe:C.instance!==void 0?parseInt(C.instance,10)||0:parseInt(window.location.search.slice(1),10)||0;const B=window.location.pathname.split("/");this.adapterName=(o==null?void 0:o.adapterName)||e.adapterName||window.adapterName||B[B.length-2]||"iot",this.instanceId=`system.adapter.${this.adapterName}.${this.instance}`,this.newReact=C.newReact===!0;const me=b.I.getLocation();me.tab=me.tab||(window._localStorage||window.localStorage).getItem(`${this.adapterName}-adapter`)||"";const ee=this.createTheme();this.state=Object.assign(this.state||{},{selectedTab:(window._localStorage||window.localStorage).getItem(`${this.adapterName}-adapter`)||"",selectedTabNum:-1,native:{},errorText:"",changed:!1,connected:!1,loaded:!1,isConfigurationError:"",expertMode:!1,toast:"",theme:ee,themeName:this.getThemeName(ee),themeType:this.getThemeType(ee),bottomButtons:(o&&o.bottomButtons)===!1?!1:(e==null?void 0:e.bottomButtons)!==!1,width:D.getWidth(),confirmClose:!1,_alert:!1,_alertType:"info",_alertMessage:""});const V=K.z;o!=null&&o.translations?Object.keys(o.translations).forEach(r=>{o.translations&&(V[r]=Object.assign(V[r],o.translations[r]||{}))}):e.translations&&Object.keys(e.translations).forEach(r=>{e.translations&&(V[r]=Object.assign(V[r],e.translations[r]||{}))}),T.F.setTranslations(V),this.savedNative={},this.encryptedFields=e.encryptedFields||(o==null?void 0:o.encryptedFields)||[],this.sentryDSN=o&&o.sentryDSN||e.sentryDSN,window.socketUrl&&(window.socketUrl.startsWith(":")?window.socketUrl=`${window.location.protocol}//${window.location.hostname}${window.socketUrl}`:!window.socketUrl.startsWith("http://")&&!window.socketUrl.startsWith("https://")&&(window.socketUrl=`${window.location.protocol}//${window.socketUrl}`)),this.alertDialogRendered=!1,window.iobOldAlert||(window.iobOldAlert=window.alert),window.alert=r=>{if(!this.alertDialogRendered){window.iobOldAlert(r);return}r!=null&&r.toString().toLowerCase().includes("error")?(console.error(r),this.showAlert(r.toString(),"error")):(console.log(r),this.showAlert(r.toString(),"info"))},this.socket=new n(we(oe({},(e==null?void 0:e.socket)||(o==null?void 0:o.socket)),{name:this.adapterName,doNotLoadAllObjects:o==null?void 0:o.doNotLoadAllObjects,onProgress:r=>{r===I.Gd.CONNECTING?this.setState({connected:!1}):r===I.Gd.READY?this.setState({connected:!0}):this.setState({connected:!0})},onReady:()=>{T.F.setLanguage(this.socket.systemLang),this.socket.subscribeObject("system.config",this.onSystemConfigChanged).then(()=>this.getSystemConfig()).then(r=>(this._secret=typeof r!="undefined"&&r.native&&r.native.secret||"Zgfr56gFe87jJOM",this._systemConfig=(r==null?void 0:r.common)||{},this.socket.getObject(this.instanceId))).then(r=>Q(this,null,function*(){var ve,Ce;let p;const E=r,ue=((ve=yield this.socket.getState(`${this.instanceId}.plugins.sentry.enabled`))==null?void 0:ve.val)!==!1&&((Ce=this._systemConfig)==null?void 0:Ce.diag)!=="none"&&(E==null?void 0:E.common)&&E.common.name&&E.common.version&&!E.common.disableDataReporting&&window.location.host!=="localhost:3000";!this.sentryStarted&&this.sentryDSN&&ue&&(this.sentryStarted=!0,P.Ts({dsn:this.sentryDSN,release:`iobroker.${E.common.name}@${E.common.version}`,integrations:[N.s()]}),console.log("Sentry initialized")),!this.sentryInited&&ue&&(this.sentryInited=!0,p=this.socket.getObject("system.meta.uuid").then(Z=>{Z&&Z.native&&Z.native.uuid&&w.o5().setUser({id:Z.native.uuid})})),p=p instanceof Promise?p:Promise.resolve(),p.then(()=>{E?(this.common=E==null?void 0:E.common,this.onPrepareLoad(E.native,E.encryptedNative),this.savedNative=JSON.parse(JSON.stringify(E.native)),this.setState({native:E.native,loaded:!0,expertMode:this.getExpertMode()},()=>this.onConnectionReady&&this.onConnectionReady())):(console.warn("Cannot load instance settings"),this.setState({native:{},loaded:!0,expertMode:this.getExpertMode()},()=>this.onConnectionReady&&this.onConnectionReady()))})})).catch(r=>window.alert(`Cannot settings: ${r}`))},onError:r=>{console.error(r),this.showError(r)}}))}static isWeb(){return window.socketUrl!==void 0}showAlert(e,o){o!=="error"&&o!=="warning"&&o!=="info"&&o!=="success"&&(o="info"),this.setState({_alert:!0,_alertType:o,_alertMessage:e})}renderAlertSnackbar(){return this.alertDialogRendered=!0,i.createElement(g.A,{style:this.state._alertType==="error"?{backgroundColor:"#f44336"}:this.state._alertType==="success"?{backgroundColor:"#4caf50"}:void 0,open:this.state._alert,autoHideDuration:6e3,onClose:(e,o)=>o!=="clickaway"&&this.setState({_alert:!1}),message:this.state._alertMessage})}componentDidMount(){window.addEventListener("resize",this.onResize,!0),window.addEventListener("message",this.onReceiveMessage,!1),super.componentDidMount()}componentWillUnmount(){window.removeEventListener("resize",this.onResize,!0),window.removeEventListener("message",this.onReceiveMessage,!1),window.iobOldAlert&&(window.alert=window.iobOldAlert,delete window.iobOldAlert),super.componentWillUnmount()}static getWidth(){const e={xs:0,sm:600,md:960,lg:1280,xl:1920},o=window.innerWidth;return Object.keys(e).reverse().find(C=>o>=e[C])||"xs"}createTheme(e){return(0,l.S)(A.A.getThemeName(e))}getThemeName(e){return e.name}getThemeType(e){return e.palette.mode}onThemeChanged(e){}onToggleExpertMode(e){}toggleTheme(e){const o=this.state.themeName;if(e=e||(o==="dark"||o==="blue"||o==="colored"?"light":"dark"),e!==o){A.A.setThemeName(e);const n=this.createTheme(e);this.setState({theme:n,themeName:this.getThemeName(n),themeType:this.getThemeType(n)},()=>{this.props.onThemeChange&&this.props.onThemeChange(e||"light"),this.onThemeChanged&&this.onThemeChanged(e||"light")})}}getSystemConfig(){return this.socket.getSystemConfig()}getExpertMode(){var e;return window.sessionStorage.getItem("App.expertMode")==="true"||!!((e=this._systemConfig)!=null&&e.expertMode)}onConnectionReady(){}encrypt(e){let o="";if(this._secret)for(let n=0;n<e.length;n++)o+=String.fromCharCode(this._secret[n%this._secret.length].charCodeAt(0)^e.charCodeAt(n));return o}decrypt(e){let o="";if(this._secret)for(let n=0;n<e.length;n++)o+=String.fromCharCode(this._secret[n%this._secret.length].charCodeAt(0)^e.charCodeAt(n));return o}onHashChanged(){const e=b.I.getLocation();e.tab!==this.state.selectedTab&&this.selectTab(e.tab)}selectTab(e,o){(window._localStorage||window.localStorage).setItem(`${this.adapterName}-adapter`,e),this.setState({selectedTab:e,selectedTabNum:o})}onPrepareSave(e){var o;return(o=this.encryptedFields)==null||o.forEach(n=>{e[n]&&(e[n]=this.encrypt(e[n]))}),!0}onPrepareLoad(e,o){var n;(n=this.encryptedFields)==null||n.forEach(a=>{e[a]&&(e[a]=this.decrypt(e[a]))}),o==null||o.forEach(a=>{this.encryptedFields=this.encryptedFields||[],!this.encryptedFields.includes(a)&&this.encryptedFields.push(a),e[a]&&(e[a]=this.decrypt(e[a]))})}getExtendableInstances(){return Q(this,null,function*(){try{const e=yield this.socket.getObjectViewSystem("instance","system.adapter.","system.adapter.\u9999");return Object.values(e).filter(o=>{var n;return!!((n=o==null?void 0:o.common)!=null&&n.webExtendable)})}catch(e){return[]}})}getIpAddresses(e){return Q(this,null,function*(){var C;const o=yield this.socket.getHostByIp(e||((C=this.common)==null?void 0:C.host)||""),n=o.find(B=>B.address==="0.0.0.0");n&&(n.name=`[IPv4] 0.0.0.0 - ${T.F.t("ra_Listen on all IPs")}`);const a=o.find(B=>B.address==="::");return a&&(a.name=`[IPv4] :: - ${T.F.t("ra_Listen on all IPs")}`),o})}onSave(e){let o;if(this.state.isConfigurationError){this.setState({errorText:this.state.isConfigurationError});return}this.socket.getObject(this.instanceId).then(n=>{o=n||{};for(const a in this.state.native)Object.prototype.hasOwnProperty.call(this.state.native,a)&&(this.state.native[a]===null?o.native[a]=null:this.state.native[a]!==void 0?o.native[a]=JSON.parse(JSON.stringify(this.state.native[a])):delete o.native[a]);if(this.state.common)for(const a in this.state.common)this.state.common[a]===null?o.common[a]=null:this.state.common[a]!==void 0?o.common[a]=JSON.parse(JSON.stringify(this.state.common[a])):delete o.common[a];return this.onPrepareSave(o.native)!==!1?this.socket.setObject(this.instanceId,o):Promise.reject(new Error("Invalid configuration"))}).then(()=>{this.savedNative=o.native,globalThis.changed=!1;try{window.parent.postMessage("nochange","*")}catch(n){}this.setState({changed:!1},()=>{e&&D.onClose()})}).catch(n=>console.error(`Cannot save configuration: ${n}`))}renderToast(){return this.state.toast?i.createElement(g.A,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!0,autoHideDuration:6e3,onClose:()=>this.setState({toast:""}),ContentProps:{"aria-describedby":"message-id"},message:i.createElement("span",{id:"message-id"},this.state.toast),action:[i.createElement(z.A,{key:"close","aria-label":"Close",color:"inherit",onClick:()=>this.setState({toast:""}),size:"large"},i.createElement(M.A,null))]}):null}static onClose(){if(typeof window.parent!="undefined"&&window.parent)try{window.parent.$iframeDialog&&typeof window.parent.$iframeDialog.close=="function"?window.parent.$iframeDialog.close():window.parent.postMessage("close","*")}catch(e){window.parent.postMessage("close","*")}}renderError(){return this.state.errorText?i.createElement(k.J,{text:this.state.errorText,onClose:()=>this.setState({errorText:""})}):null}getIsChanged(e){e=e||this.state.native;const o=JSON.stringify(e)!==JSON.stringify(this.savedNative);return globalThis.changed=o,o}onLoadConfig(e){JSON.stringify(e)!==JSON.stringify(this.state.native)&&this.setState({native:e,changed:this.getIsChanged(e)})}setConfigurationError(e){this.state.isConfigurationError!==e&&this.setState({isConfigurationError:e})}renderSaveCloseButtons(){return!this.state.confirmClose&&!this.state.bottomButtons?null:i.createElement(i.Fragment,null,this.state.bottomButtons?i.createElement(j.N,{theme:this.state.theme,newReact:this.newReact,noTextOnButtons:this.state.width==="xs"||this.state.width==="sm"||this.state.width==="md",changed:this.state.changed,onSave:e=>this.onSave(e),onClose:()=>{this.state.changed?this.setState({confirmClose:!0}):D.onClose()},error:!!this.state.isConfigurationError}):null,this.state.confirmClose?i.createElement(H.Z,{title:T.F.t("ra_Please confirm"),text:T.F.t("ra_Some data are not stored. Discard?"),ok:T.F.t("ra_Discard"),cancel:T.F.t("ra_Cancel"),onClose:e=>this.setState({confirmClose:!1},()=>e&&D.onClose())}):null)}_updateNativeValue(e,o,n){typeof o!="object"&&(o=o.split("."));const a=o.shift()||"";if(!o.length)return n&&typeof n=="object"?JSON.stringify(e[a])!==JSON.stringify(n)?(e[a]=n,!0):!1:e[a]!==n?(e[a]=n,!0):!1;if(e[a]=e[a]||{},typeof e[a]!="object")throw new Error(`attribute ${a} is no object, but ${typeof e[a]}`);return this._updateNativeValue(e[a],o,n)}updateNativeValue(e,o,n){const a=JSON.parse(JSON.stringify(this.state.native));if(this._updateNativeValue(a,e,o)){const C=this.getIsChanged(a);if(C!==this.state.changed)try{window.parent.postMessage(C?"change":"nochange","*")}catch(B){}this.setState({native:a,changed:C},n)}}showError(e){this.setState({errorText:e})}showToast(e){this.setState({toast:e})}renderHelperDialogs(){return i.createElement(i.Fragment,null,this.renderError(),this.renderToast(),this.renderSaveCloseButtons(),this.renderAlertSnackbar())}render(){return this.state.loaded?i.createElement("div",{className:"App"},this.renderError(),this.renderToast(),this.renderSaveCloseButtons(),this.renderAlertSnackbar()):i.createElement(R,{themeType:this.state.themeType})}}var m=t(4609),c=t(23250),h=t(95126),u=t(24400),y=t(66790),F=t(33902),O=t(3619),$=t(73025),U=t(30441),L=t(11390),Ie=t(31937),Se=t(6977),pe=t(56734),X=t(84966),be=t(20771),xe=t(45559),Ne=t(58092),De=t(81590),Oe=t(32806),Pe=t(89397),Me=t(16808),Re=t(19034),Ae=t(27066),Fe=t(43190),ke=t(9340),ne=t(49243),Le=t(50080),Be=t(3705),Ue=t(95851),We=t(14168),ze=t(58818),$e=t(14561),Je=t(11452),Ve=t(13878),He=t(81350),Ke=t(8529),Xe=t(99532),Ye=t(19619),Ze=t(95148),Ge=t(4454),Qe=t(59089),je=t(97779),qe=t(51702),_e=t(69723),et=t(74891),tt=t(63565),ot=t(95596),nt=t(30510),ae=t(27497),re=t(80665),ie=t(77002),se=t(5916),le=t(47579),de=t(55259),ce=t(87332),Y=t(37031),at=t(40844),he=t(72700),J=t(6430),rt=t(43003)},49262:(d,s,t)=>{t.d(s,{I:()=>N});var l=t(77810),i=t(64922);const I=l.createContext();function P(M){var v=M,{value:g}=v,z=Te(v,["value"]);return _jsx(I.Provider,oe({value:g!=null?g:!0},z))}const N=()=>{const g=l.useContext(I);return g!=null?g:!1};var w=null},70230:(d,s,t)=>{t.d(s,{E:()=>D,T:()=>S,c:()=>K,h:()=>T,w:()=>v});var l=t(77810),i=t(11862),I=t(5555),P=t(30938),N=t(3673),w=!1,g=l.createContext(typeof HTMLElement!="undefined"?(0,i.A)({key:"css"}):null),z=g.Provider,M=function(){return useContext(g)},v=function(c){return(0,l.forwardRef)(function(h,u){var y=(0,l.useContext)(g);return c(h,y,u)})},S=l.createContext({}),R=function(){return React.useContext(S)},b=function(c,h){if(typeof h=="function"){var u=h(c);return u}return _extends({},c,h)},A=null,j=function(c){var h=React.useContext(S);return c.theme!==h&&(h=A(h)(c.theme)),React.createElement(S.Provider,{value:h},c.children)};function H(m){var c=m.displayName||m.name||"Component",h=React.forwardRef(function(y,F){var O=React.useContext(S);return React.createElement(m,_extends({theme:O,ref:F},y))});return h.displayName="WithTheme("+c+")",hoistNonReactStatics(h,m)}var T={}.hasOwnProperty,k="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",K=function(c,h){var u={};for(var y in h)T.call(h,y)&&(u[y]=h[y]);return u[k]=c,u},q=function(c){var h=c.cache,u=c.serialized,y=c.isStringTag;return(0,I.SF)(h,u,y),(0,N.s)(function(){return(0,I.sk)(h,u,y)}),null},_=v(function(m,c,h){var u=m.css;typeof u=="string"&&c.registered[u]!==void 0&&(u=c.registered[u]);var y=m[k],F=[u],O="";typeof m.className=="string"?O=(0,I.Rk)(c.registered,F,m.className):m.className!=null&&(O=m.className+" ");var $=(0,P.J)(F,void 0,l.useContext(S));O+=c.key+"-"+$.name;var U={};for(var L in m)T.call(m,L)&&L!=="css"&&L!==k&&!w&&(U[L]=m[L]);return U.className=O,h&&(U.ref=h),l.createElement(l.Fragment,null,l.createElement(q,{cache:c,serialized:$,isStringTag:typeof y=="string"}),l.createElement(y,U))}),D=_}}]);

//# sourceMappingURL=vendors-node_modules_emotion_react_dist_emotion-element-f0de968e_browser_esm_js-node_modules_-f4fde1.aa30b4b5.chunk.js.map